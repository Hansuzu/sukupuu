var M,X,_,S,Z,K,z,Y,I,D,P,Q,ye,ge,xe,ke,be,we,Ee,Te,Ne,Le,Me,Re,_e,Se,Ye,Ie,Xe,ze,x={},C=[],E={},R=new Set,B=new Set,T=1,N=2,W=[],F=[],H=[],G=[],A=[],L=0,O=0,y=0,U="",J=[],V=75,$=80,ee=40,te=10,ne=16,re=12,ae=1,ie=75,le=80,oe=40,de=10,ue=16,ce=12,fe=50,se=50,ve=10,pe=10,he=1;function Ce(C,y){var x=Math.pow(1.25,C);ie=V*x,le=$*x,oe=ee*x,de=te*x,ue=ne*x,ce=re*x,Pn("c",ae=C),y&&Dn()}function me(C,y,x){N=C,Pn("d",T=y),Pn("u",C),x&&Dn()}var De="/a",Be="/a",Pe="/b",We="/c",Fe="/d",He="/e",Ge="a",Ae="b",Ze="c",Ke="d",Oe="e",je="f",Ue="g",qe="h",Je="i",Qe="j",Ve="k",$e="l",et="m",tt="n",nt="o",rt="p",at="q",it="r",lt="s",ot="t",dt="u",ut="v",ct="w",ft="First names:",st="Nicknames:",vt="Surname:",pt="Maiden name:",ht="Bachelor name:",Ct="Born:",mt="Died:",yt="Birth location:",gt="Death location:",xt="Gender:",kt="Male",bt="Female",wt="Details:",Et="Geni id:",Tt="Fetch geni node",Nt="Father:",Lt="Mother:",Mt="Marriage(s):",Rt="Children:",_t="Save",St="a",Yt="b",It="c",Xt="d",zt="e",Dt="f",Bt="g",Pt="h",Wt="i",Ft="j",Ht="k",Gt="l",At="m",Zt="n",Kt="o",Ot="p",jt="q",Ut="r",qt="s",Jt="t",Qt="u",Vt="v",$t="w",en="x",tn="y",nn="z",rn="m",an="f",ln="3",on="x",dn="4",un="0",cn="1";function fn(C,y,x,E){null==x&&(x=M),null==E&&(E=alert);var T=new XMLHttpRequest;T.timeout=3500,T.onreadystatechange=function(){4==this.readyState&&(404==this.status?E("404, "+C+" "+T.responseText):200==this.status?y(JSON.parse(T.responseText)):0==this.status&&E("Conection refused "+C))},T.open("GET",x+C,!0),T.send()}function sn(C,y,x,E,T,N){null==T&&(T=M),null==N&&(N=alert),null==E&&(E=3500);var L=new XMLHttpRequest;L.timeout=E,L.onreadystatechange=function(){4==this.readyState&&(___networking=0,404==this.status?N("404, "+C+" "+L.responseText):200==this.status?x(JSON.parse(L.responseText)):0==this.status&&N("Conection refused"))},L.open("POST",T+C,!0),L.send(y)}function vn(C){for(var y="",i=0;i<C.length;i++)y.length&&(y+="&"),y+=encodeURIComponent(C[i][0])+"="+encodeURIComponent(C[i][1]);return y}function pn(C){return C?C in D?D[C][0]:"G"+C:C}function hn(C){key="G"+C[Kt];var i,l=C[jt].length;for(C[Zt]=[],i=0;i<l;++i)C[Zt].push(pn(C[jt][i][Kt]));if(C[Ht]=pn(C[qt][Kt]),C[Gt]=pn(C[Ut][Kt]),C[Kt]in D){for(cdata=z[pn(C[Kt])],i=0;i<l;++i)"G"==C[Zt][i][0]?cdata[Zt].push(C[Zt][i]):cdata[Zt].includes(C[Zt][i])||cdata[Zt].push(C[Zt][i]);C[Ht]&&!cdata[Ht]&&(cdata[Ht]=C[Ht]),C[Gt]&&!cdata[Gt]&&(cdata[Gt]=C[Gt])}x[key]=C,x.LD=0,I&&Dn()}function Cn(){___geniLoadIndex>=C.length?(C.length=0,___geniDataLoading=0):(___geniLoadIndex++,sn("",vn([[it,C[___geniLoadIndex-1].substring(1)],[lt,1]]),function(C){hn(C),Cn()},12e4,X))}function mn(){___geniDataLoading||(___geniDataLoading=1,___geniLoadIndex=0,Cn())}function yn(c){c in x||(x[c]={},x[c].LD=1,C.push(c),mn())}function gn(c){if(c){if("G"==c[0]){if(!(c in x)){if(!I)return;yn(c)}return x[c]}var C=z[c];if(C[Kt]&&I){var y="G"+C[Kt];y in x||yn(y),C.LD=x[y].LD}return C}}___geniDataLoading=0;var xn=___geniLoadIndex=0,kn=0;function bn(f,m,C,y){var x=S.getContext("2d");x.beginPath();var E=gn(f),T=gn(m);if(E&&T){var N=(E.X+ie+T.X)/2,L=E.Y+le,M=C+(ie+de)/2,R=y;x.moveTo(N,L),x.lineTo(N,L+2*oe/3),x.lineTo(M,L+2*oe/3),x.lineTo(M,R)}else{if(!E&&!T)return;var _=E||T;N=_.X+(ie+de)/2,L=_.Y+le,M=C+(ie+de)/2,R=y;x.moveTo(N,L),x.lineTo(N,L+oe/3),x.lineTo(M,L+oe/3),x.lineTo(M,R)}x.stroke()}function wn(f,m,c){var C=gn(c);C&&bn(f,m,C.X,C.Y)}function En(c,d){var C=gn(c);if(!C)return 0;var y=1;if(C.W=ie+de,C.addFather=!1,C.addMother=!1,0<d){var x=de;if(C[Gt]){y=Math.max(y,1+En(C[Gt],d-1));var E=gn(C[Gt]);E&&(x+=E.W)}else"G"!=c[0]&&(y=Math.max(y,2),x+=ie+de,C.addFather=!0);if(C[Ht]){y=Math.max(y,1+En(C[Ht],d-1));var T=gn(C[Ht]);T&&(x+=T.W)}else"G"!=c[0]&&(y=Math.max(y,2),x+=ie+de,C.addMother=!0);C.W=Math.max(C.W,x)}return y}function Tn(c,d,C,y){var x=gn(c);if(x&&(x[Ft]==rn?x.X=C+x.W-(ie+de):x.X=C,x.Y=y,d!=N&&(xn=Math.max(xn,x.X+ie),kn=Math.max(kn,x.Y+le)),0<d)){if(x[Gt]){Tn(x[Gt],d-1,C,y-le-oe);var E=gn(x[Gt]);E&&(C+=E.W)}else x.addFather&&(x.addFatherX=C,C+=ie+de,x.addFatherY=y-le-oe,xn=Math.max(xn,x.addFatherX+ie),kn=Math.max(kn,x.addFatherY+le));if(x[Ht]){Tn(x[Ht],d-1,C,y-le-oe);var T=gn(x[Ht]);T&&(C+=T.W)}else x.addMother&&(x.addMotherX=C,C+=ie+de,x.addMotherY=y-le-oe,xn=Math.max(xn,x.addMotherX+ie),kn=Math.max(kn,x.addMotherY+le))}}function Nn(c,d){var C=gn(c);if(C&&(C.W=ie+de,C.mar&&(C.W+=ie+de+de+de),C.addChild=!1,0<d)){var y=de;for(var i in C[Zt]){var w=C[Zt][i],x=gn(w);x&&(Nn(w,d-1),y+=x.W)}C.mar&&"G"!=c[0]&&(C.addChild=!0,y+=ie+de),C.W=Math.max(C.W,y)}}function Ln(c,d,C,y){var x=gn(c);if(x&&((E=gn(x.mar))?(x.Y=y,E.Y=y,x[Ft]==rn?(x.X=C+x.W/2-ie,E.X=C+x.W/2):(x.X=C+x.W/2,E.X=C+x.W/2-ie)):(x.X=C+x.W/2-(ie+de)/2,x.Y=y),xn=Math.max(xn,x.X+ie),kn=Math.max(kn,x.Y+le),0<d)){for(var i in x[Zt]){var E,w=x[Zt][i];(E=gn(w))&&(Ln(w,d-1,C,y+le+oe),C+=E.W)}x.addChild&&(x.addChildX=C,x.addChildY=y+le+oe,xn=Math.max(xn,x.addChildX+ie),kn=Math.max(kn,x.addChildY+le))}}function Mn(){var C=En(P,N)-1,y=gn(P);if(y){var x=y.W;Nn(P,T);var E=y.W,w=Math.max(E,x);Tn(P,N,(w-x)/2+ve,(le+oe)*C+fe),Ln(P,T,(w-E)/2+ve,(le+oe)*C+fe)}}function Rn(C,y,x){var E=document.createElement("div");E.style.width=ie,E.style.height=le,E.style.position="absolute",E.style.left=C,E.style.top=y,E.textContent="+",E.style.fontSize=ue,E.style.backgroundColor="#eee",E.onclick=function(){zr(x)},E.style.cursor="pointer",_.appendChild(E)}function _n(C,y){var i,x=[0],E=-1,T=[],N=-1,L=[],M=-1,R=[],_=-1,S=[],l=y.length-1;for(i=0;i<l;++i)x.push(0)," "!=y[i]&&" "!=y[i+1]&&("*"==y[i]?E=i:"_"==y[i]?N=i:"/"==y[i]?M=i:"~"==y[i]?_=i:"*"==y[i+1]&&-1!=E?(T.push([E,i+1]),x[E]=1,E=-(x[i+1]=1)):"_"==y[i+1]&&-1!=N?(L.push([N,i+1]),x[N]=1,N=-(x[i+1]=1)):"/"==y[i+1]&&-1!=M?(R.push([M,i+1]),x[M]=1,M=-(x[i+1]=1)):"~"==y[i+1]&&-1!=_&&(S.push([_,i+1]),x[_]=1,_=-(x[i+1]=1)));var Y="",I=[C],X=E=0,z=N=0,D=M=0,B=_=0;for(++l,i=0;i<l;++i)E<T.length&&T[E][X]==i?((X=1-X)?(I[I.length-1].appendChild(document.createTextNode(Y)),I.push(document.createElement("b"))):(++E,I[I.length-1].appendChild(document.createTextNode(Y)),I[I.length-2].appendChild(I.pop())),Y=""):N<L.length&&L[N][z]==i?((z=1-z)?(I[I.length-1].appendChild(document.createTextNode(Y)),I.push(document.createElement("i"))):(++N,I[I.length-1].appendChild(document.createTextNode(Y)),I[I.length-2].appendChild(I.pop())),Y=""):M<R.length&&R[M][D]==i?((D=1-D)?(I[I.length-1].appendChild(document.createTextNode(Y)),I.push(document.createElement("u"))):(++M,I[I.length-1].appendChild(document.createTextNode(Y)),I[I.length-2].appendChild(I.pop())),Y=""):_<S.length&&S[_][B]==i&&((B=1-B)?(I[I.length-1].appendChild(document.createTextNode(Y)),I.push(document.createElement("s"))):(++_,I[I.length-1].appendChild(document.createTextNode(Y)),I[I.length-2].appendChild(I.pop())),Y=""),x[i]||(Y+=y[i]);I[I.length-1].appendChild(document.createTextNode(Y))}function Sn(C,c){var x,y=gn(c);_n(C,(y[St]?y[St]:"")+" "+(y[Yt]?y[Yt]:"")),C.style.fontSize=ue,y[Pt]&&(C.appendChild(document.createElement("br")),(x=document.createElement("span")).style.fontSize=ce,x.textContent="o.s. "+y[Pt],C.appendChild(x));C.appendChild(document.createElement("br")),(x=document.createElement("span")).style.fontSize=ce,!y[Xt]||!he&&19e3<y[zt]&&y[zt]<222222||x.appendChild(document.createTextNode("s. "+y[Xt])),y[Xt]&&y[Dt]&&x.appendChild(document.createElement("br")),y[Dt]&&x.appendChild(document.createTextNode("k. "+y[Dt])),C.appendChild(x)}function Yn(c,C){if(x=gn(c)){var y=document.createElement("div"),x=gn(c);if(y.style.width=ie,y.style.height=le,y.style.position="absolute",y.style.left=x.X,y.style.top=x.Y,C?(W.push(c),F.includes(c)?(y.style.left=x.prevX,y.style.top=x.prevY,H.push([c,y])):(y.style.opacity=0,G.push([c,y]))):A.push([c,y]),x.xx=x.prevX,x.yy=x.prevY,x.prevX=x.X,x.prevY=x.Y,x.LD&&I){var E=document.createElement("div");E.className="t",y.appendChild(E)}if(Sn(y,c),"G"==c[0]?y.style.backgroundColor=c==P?x[Ft]==rn?"#dff":x[Ft]==an?"#ffd":"#eee":x[Ft]==rn?"#ddf":x[Ft]==an?"#fdd":"#ddd":y.style.backgroundColor=c==P?x[Ft]==rn?"#cff":"#ffc":x[Ft]==rn?"#ccf":"#fcc",x[Kt]&&(y.style.borderStyle="dotted",y.style.borderWidth="2"),C)if(y.onclick=function(){e(c)},y.style.cursor="pointer",he&&"G"!=c[0]){if((T=document.createElement("div")).style.width=ie/5,T.style.height=ie/5,T.style.position="absolute",T.style.cursor="pointer",T.style.top=-ie/6,T.style.right=-ie/10,T.style.backgroundColor="#ccc",T.onclick=function(C){C.stopPropagation(),Xr(c)},T.style.zIndex=500,y.appendChild(T),!x.mar){var N=document.createElement("div"),L=document.createElement("div"),M=document.createElement("div");SZ=ie/7,N.style.width=SZ,N.style.height=SZ,N.style.position="absolute",N.style.cursor="pointer",N.style.bottom=-SZ/2,N.style.right=-SZ/2,N.style.backgroundColor="#f66",L.style.width=SZ,L.style.height=SZ,L.style.position="absolute",L.style.cursor="pointer",L.style.bottom=0,L.style.right=-SZ/2,L.style.backgroundColor="#f66",L.style.borderRadius="50%",L.style.webKitBorderRadius="50%",L.style.MozBorderRadius="50%",M.style.width=SZ,M.style.height=SZ,M.style.position="absolute",M.style.cursor="pointer",M.style.bottom=-SZ/2,M.style.right=-SZ,M.style.backgroundColor="#f66",M.style.borderRadius="50%",M.style.webKitBorderRadius="50%",M.style.MozBorderRadius="50%";function R(C){C.stopPropagation();var y={};y[Ft]=x[Ft]==rn?an:rn,y[Yt]=x[Yt],y[At]=[[c,ln]],zr(y)}N.onclick=R,L.onclick=R,M.onclick=R,N.style.zIndex=500,L.style.zIndex=499,M.style.zIndex=499,y.appendChild(N),y.appendChild(L),y.appendChild(M)}}else if(!he&&x[Kt]){var T;(T=document.createElement("div")).style.width=ie/5,T.style.height=ie/5,T.style.position="absolute",T.style.cursor="pointer",T.style.top=-ie/6,T.style.right=-ie/10,T.style.backgroundColor="#ccc",T.value=x[Kt]="https://www.geni.com/api/profile-"+x[Kt],T.onclick=function(C){C.stopPropagation(),window.open(T.value)},T.style.zIndex=500,y.appendChild(T)}_.appendChild(y)}}function In(c,d){var C=gn(c);if(C&&(Yn(c,!0),C.mar&&Yn(C.mar,!0),0<d)){for(var i in C[Zt]){var w=C[Zt][i],y=gn(w);y&&(C[Ft]==rn?y[Ht]==C.mar?wn(c,C.mar,w):wn(c,0,w):y[Gt]==C.mar?wn(C.mar,c,w):wn(0,c,w),In(w,d-1))}if(C.addChild&&he){bn(c,C.mar,C.addChildX,C.addChildY);var x={};C[Ft]==rn?(x[Gt]=c,x[Ht]=C.mar):(x[Gt]=C.mar,x[Ht]=c),z[x[Gt]][Yt]==z[x[Ht]][Yt]&&(x[Yt]=C[Yt]),Rn(C.addChildX,C.addChildY,x)}}}function Xn(c,d){if(0<d){var C=gn(c);if(!C)return;if(wn(C[Gt],C[Ht],c),C[Gt])Yn(C[Gt],!0),Xn(C[Gt],d-1);else if(C.addFather&&he){(y={})[Ft]=rn,y[Zt]=[c],C[Ht]&&(y[At]=[[C[Ht],ln]]),Rn(C.addFatherX,C.addFatherY,y)}if(C[Ht])Yn(C[Ht],!0),Xn(C[Ht],d-1);else if(C.addMother&&he){var y;(y={})[Ft]=an,y[Zt]=[c],C[Gt]&&(y[At]=[[C[Gt],ln]]),Rn(C.addMotherX,C.addMotherY,y)}}}function zn(){var i,l;for(l=F.length,i=0;i<l;i++)W.includes(F[i])||Yn(F[i],!1)}function Dn(){if(null!=P){H=[],G=[],A=[],_.innerHTML="",kn=xn=0,Mn(),S.width=xn+ve+pe,S.height=kn+se,S.style.width=xn+ve+pe,S.style.height=kn+se,F=W,W=[],In(P,T),Xn(P,N),zn(),S.style.visibility="hidden";var x=0,E=setInterval(function(){var i,l,C,c,y;if(x<100){for(l=H.length,i=0;i<l;i++)c=H[i][0],C=H[i][1],(y=gn(c))?(C.style.left=y.X*x/100+y.xx*(100-x)/100,C.style.top=y.Y*x/100+y.yy*(100-x)/100):C.style.visibility="hidden";for(l=G.length,i=0;i<l;i++)G[i][1].style.opacity=x/100;for(l=A.length,i=0;i<l;i++)A[i][1].style.opacity=1-x/100;x+=8}else{for(clearInterval(E),S.style.visibility="visible",l=H.length,i=0;i<l;i++)c=H[i][0],C=H[i][1],(y=gn(c))?(C.style.left=y.X,C.style.top=y.Y):C.style.visibility="hidden";for(l=G.length,i=0;i<l;i++)G[i][1].style.opacity=1;for(l=A.length,i=0;i<l;i++)A[i][1].opacity=0,A[i][1].remove()}},20)}}function Bn(){var i,C=document.location.hash.substr(1).split("&"),l=C.length;for(i=0;i<l;++i){var v=C[i].split("=");E[v[0]]=v[1]}}function Pn(C,y){E[C]=y;var x="";for(var i in E)i&&(x.length&&(x+="&"),x+=i+"="+E[i]);document.location.hash=x}function Wn(C){return Bn(),E[C]}function Fn(a,b){var i,j,l=a.length,C=b.length,e=0;for(i=0;i<l;i++){for(j=e=0;j<C;j++)if(b[j].startsWith(a[i])){e=1;break}if(!e)return 0}return 1}function Hn(C,y,x,E,T){var N=/[^a-zA-Z ]+/g,f=y.replace(N,"").toLowerCase().split(" "),n=x.replace(N,"").toLowerCase().split(" "),s=E.replace(N,"").toLowerCase().split(" "),o=T.replace(N,"").toLowerCase().split(" ");return Fn(C,f.concat(n).concat(s).concat(o))}function Gn(C,y,x){performance.now();var N=ar(C),L=[];"#"==C[L.length=0]&&C.substring(1)in z&&L.push(C.substring(1));var i=0,R=performance.now();if(C&&U.startsWith(C))for(var j=0,l=J.length;j<l;++j)L.push(J[j]);else if(U&&C.startsWith(U))if(i=Q,O)for(j=0,l=J.length;j<l;++j){0;var c=J[j];if((!x||x(c))&&(Fn(N,z[c].NN)&&(L.push(c),L.length>=y)))break}else for(j=0,l=J.length;j<l;++j){0;c=J[j];if((!x||x(c))&&(Hn(N,z[c][St],z[c][It],z[c][Yt],z[c][Pt])&&(L.push(c),L.length>=y)))break}if(performance.now()-R,R=performance.now(),L.length<y)if(O)for(l=Y.length;i<l;++i){0;c=Y[i];if((!x||x(c))&&(!J.includes(c)&&Fn(N,z[c].NN)&&(L.push(c),L.length>=y))){++i;break}}else for(l=Y.length;i<l;++i){0;c=Y[i];if((!x||x(c))&&(!J.includes(c)&&Hn(N,z[c][St],z[c][It],z[c][Yt],z[c][Pt])&&(L.push(c),L.length>=y))){++i;break}}performance.now();for(j=J.length=0,l=L.length;j<l;++j)J.push(L[j]);return Q=i,U=C,L}function An(x,C,E,T){x.innerHTML="";var y=document.createElement("div");if(C&&"G"!=C[0]){_n(y,z[C][St]+" "+z[C][Yt]+" ("+C+")");var r=document.createElement("div");r.style.width="20px",r.style.height="20px",r.style.position="absolute",r.style.top="0px",r.style.right="0px",r.style.marginRight="-30px",r.textContent="X",r.style.cursor="pointer",r.style.backgroundColor="#f00",r.style.zIndex=1e3,r.onclick=function(){An(x,null,E,T),E(null)},y.appendChild(r)}else y.textContent="N/A";y.width="50px",y.height="20px",y.style.marginRight="30px",y.style.position="relative",y.style.cursor="pointer";var N=document.createElement("div");N.style.width="640px",N.style.position="fixed",N.style.zIndex=1001;var L=document.createElement("div");L.style.width="600px",L.style.position="fixed",L.style.overflowY="scroll",L.style.overflowX="hidden",L.style.maxHeight="150px";var M=document.createElement("div");M.style.width="40px",M.style.height="40px",M.style.backgroundColor="#f00",M.style.cursor="pointer",M.style.display="none",M.style.position="fixed",M.style.marginLeft="600px",M.onclick=function(){var s=M,C=L;return function(){s.style.display="none",C.innerHTML=""}}(),N.appendChild(L),N.appendChild(M),y.onclick=function(){var s=M,y=L;return function(){s.style.display="block",y.innerHTML="",i(y,function(k){An(x,k,E,T),E(k)},T,function(){s.style.display="none",y.innerHTML=""}).focus()}}(),x.value=C,x.appendChild(y),x.appendChild(N)}function Zn(C,y){for(var x=C.split(" "),E=y.split(" "),T=0,N=0,i=0,l=x.length;i<l;++i)E.indexOf(x[i])<0?T++:N=1;for(i=0,l=E.length;i<l;++i)x.indexOf(E[i])<0?T++:N=1;return N||(T+=50),T}function Kn(C){for(;1e4<=C;)C/=10;return C}function On(C,y,x,E){if(y){var T=null,N=E?1e9:10;if(y[Kt]in D)T=D[y[Kt]][0],N=-1;else for(var i in x)if(x[i]in z){var L=z[x[i]],M=Zn(L[St],y[St]),R=Kn(L[zt]),_=Kn(y[zt]);R&&_&&(M+=Math.abs(R-_)),M<N&&(N=M,T=x[i])}var S=document.createElement("input"),Y=document.createElement("button");Y.textContent="Link",T&&(S.value=T,console.log(T),z[T][Kt]==y[Kt]&&(Y.disabled=!0)),Y.onclick=function(){var c=S.value;if(c in z){Y.disabled=!0;var C=[[Ae,c],[Ze,z[c][Yt]],[Ke,z[c][St]],[Oe,z[c][It]],[qe,z[c][Pt]],[Ue,z[c][Ft]==rn?"1":"0"],[Je,z[c][zt]],[Qe,z[c][Bt]],[ot,y[en]],[dt,y[tn]],[je,z[c][Wt]],[it,y[Kt]],[ut,""]];sn(Pe,vn(C),function(C){Gr()})}else alert("invalid id!")};var I=document.createElement("button");I.textContent="Create As New",y[Kt]in D&&(I.disabled=!0),I.onclick=function(){I.disabled=!0,y[Kt]in D?alert("Geni node with same id already exists!"):sn("",vn([[it,y[Kt]],[lt,1]]),function(C){var y=[[Ze,C[Yt]],[Ke,C[St]],[Oe,C[It]],[qe,C[Pt]],[Ue,C[Ft]==rn?"1":"0"],[Je,C[zt]],[Qe,C[Bt]],[ot,C[en]],[dt,C[tn]],[je,C[Wt]],[it,C[Kt]],[ut,""]];C[Ut]&&C[Ut][Kt]in D&&y.push([et,D[C[Ut][Kt]][0]]),C[qt]&&C[qt][Kt]in D&&y.push([tt,D[C[qt][Kt]][0]]);var i,x="",l=C[Ot].length;for(i=0;i<l;++i){var E=C[Ot][i][Kt];E in D&&(x.length&&(x+=","),x+=D[E][0]+"."+(i==l-1?ln:dn))}y.push([at,x]),l=C[jt].length;var T="";for(i=0;i<l;++i){var N=C[jt][i][Kt];N in D&&(T.length&&(T+=","),T+=D[N][0])}y.push([rt,T]),sn(We,vn(y),function(C){Gr(Sr)})},2e4,X,function(C){alert(C)})},C.appendChild(S),C.appendChild(Y),C.appendChild(I)}}function jn(C,y){if(y){if(Qt in y){var x=document.createElement("a");x.href=y[Qt],x.textContent=y[St]+" "+y[Yt],C.appendChild(x)}C.appendChild(document.createTextNode(" <"));var E=document.createElement("a");E.href="https://www.geni.com/api/profile-"+y[Kt],E.textContent=y[Kt],C.appendChild(E),C.appendChild(document.createTextNode(">"))}}function Un(C){K.innerHTML="",K.value=C[Kt];var t=document.createElement("div"),r=(t=document.createElement("table").createTBody()).insertRow(-1),c=r.insertCell(-1),y=document.createElement("a");C&&(y.href=C[Qt]?C[Qt]:""),C&&(y.textContent="Geni profile page"),c.appendChild(y),c.colSpan=3,c=(r=t.insertRow(-1)).insertCell(-1);var x=document.createElement("a");C&&(x.href="https://www.geni.com/api/profile-"+C[Kt]),C&&(x.textContent="Geni api page"),c.appendChild(x),c.colSpan=3,(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(ft));var E=document.createElement("input");C&&(E.value=C[St]?C[St]:""),E.value!=ge.value&&(E.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(E),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){ge.value=E.value,E.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(st));var N=document.createElement("input");C&&(N.value=C[It]?C[_KEY_FIRSTNAME]:""),N.value!=xe.value&&(N.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(N),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){xe.value=N.value,N.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(vt));var L=document.createElement("input");C&&(L.value=C[Yt]?C[Yt]:""),L.value!=ke.value&&(L.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(L),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){ke.value=L.value,L.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T);var M=pt;C&&C[Ft]!=rn||(M=ht),r=t.insertRow(-1);var R=document.createTextNode(M);r.insertCell(-1).appendChild(R);var _=document.createElement("input");C&&(_.value=C[Pt]?C[Pt]:""),_.value!=be.value&&(_.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(_),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){be.value=_.value,_.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Ct));var S=document.createElement("input");C&&(S.value=C[zt]?C[zt]:""),S.value!=we.value&&(S.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(S),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){we.value=S.value,S.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(mt));var Y=document.createElement("input");C&&(Y.value=C[Bt]?C[Bt]:""),Y.value!=Ee.value&&(Y.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(Y),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){Ee.value=Y.value,Y.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(yt));var I=document.createElement("input");C&&(I.value=C[en]?C[en]:""),I.value!=Te.value&&(I.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(I),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){Te.value=I.value,I.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(gt));var X=document.createElement("input");C&&(X.value=C[tn]?C[tn]:""),X.value!=Ne.value&&(X.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(X),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){Ne.value=X.value,X.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(xt));var z=document.createElement("input");z.type="radio",z.name="gender_g";var D=document.createElement("input");D.type="radio",D.name="gender_g",z.onclick=function(){R.textContent=ht},D.onclick=function(){R.textContent=pt},null==C||void 0===C[Ft]||C[Ft]==rn?z.checked=!0:D.checked=!0,(b=r.insertCell(-1)).appendChild(z),b.appendChild(document.createTextNode(kt)),b.appendChild(D),b.appendChild(document.createTextNode(bt)),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(wt));var T,B=document.createElement("input");C&&(B.value=C[Wt]?C[Wt]:""),B.value!=Le.value&&(B.style.backgroundColor="#eff"),r.insertCell(-1).appendChild(B),(T=document.createElement("button")).textContent="APPLY",T.onclick=function(){Le.value=B.value,B.style.backgroundColor="#fff"},r.insertCell(-1).appendChild(T),(b=document.createElement("button")).textContent="APPLY",b.onclick=function(){ge.value=E.value,E.style.backgroundColor="#fff",L.style.backgroundColor="#fff",ge.onchange(),be.value=_.value,_.style.backgroundColor="#fff",we.value=S.value,S.style.backgroundColor="#fff",Ee.value=Y.value,Y.style.backgroundColor="#fff",Te.value=I.value,I.style.backgroundColor="#fff",Ne.value=X.value,X.style.backgroundColor="#fff",Re.checked=z.checked,_e.checked=D.checked,Le.value=B.value,B.style.backgroundColor="#fff",Rr()},t.insertRow(-1).insertCell(-1).appendChild(b),(b=document.createElement("button")).textContent="update data",b.onclick=function(){qn(),Jn(C[Kt],1)},t.insertRow(-1).insertCell(-1).appendChild(b),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Nt)),jn(r.insertCell(-1),C[Ut]);var b,W=r.insertCell(-1);On(W,C[Ut],[Se.value],!0),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Lt)),jn(r.insertCell(-1),C[qt]),On(W=r.insertCell(-1),C[qt],[Ye.value],!0),t.insertRow(-1).insertCell(-1).appendChild(document.createTextNode(Mt));for(var H=[],i=0,l=Ie.value.length;i<l;++i)H.push(Ie.value[i][0]);for(i=0,l=C[Ot].length;i<l;++i){(r=t.insertRow(-1)).insertCell(-1),jn(r.insertCell(-1),C[Ot][i]),On(W=r.insertCell(-1),C[Ot][i],H)}t.insertRow(-1).insertCell(-1).appendChild(document.createTextNode(Rt));for(i=0,l=C[jt].length;i<l;++i){(r=t.insertRow(-1)).insertCell(-1),jn(r.insertCell(-1),C[jt][i]),On(W=r.insertCell(-1),C[jt][i],Xe.value)}K.appendChild(t),(b=document.createElement("button")).textContent="CLOSE",b.onclick=qn,K.appendChild(b),K.style.display="block",Z.style.left="calc(50% - 260px)"}function qn(){K.style.display="none",Z.style.left="50%"}function Jn(C,y){ze.disabled=!0,sn("",vn([[it,C],[lt,2],[ct,y]]),function(C){ze.disabled=!1,Un(C)},2e4,X,function(C){ze.disabled=!1,alert(C)})}function Qn(){Jn(Me.value,0)}function Vn(y,x){x=x||[],y.value=x,y.innerHTML="";var i,t=document.createElement("table").createTBody(),C=!1,l=x.length;for(i=0;i<l;i++){var r,c,e;if(An(c=(r=t.insertRow(-1)).insertCell(-1),x[i][0],function(){var C=i;return function(v){v?x[i][0]=v:x.splice(C,1),Vn(y,x)}}(),function(v){return z[v][Ft]!=(Re.checked?rn:an)}),c=r.insertCell(-1),x[i][1]!=on)(e=document.createElement("button")).textContent="Divorce",e.onclick=function(){var C=i;return function(v){x[C][1]=on,Vn(y,x)}}(),c.appendChild(e);if(x[i][1]!=dn)(e=document.createElement("button")).textContent="Died",e.onclick=function(){var C=i;return function(v){x[C][1]=dn,Vn(y,x)}}(),c.appendChild(e);x[i][1]==ln&&(C=!0)}C||An(c=(r=t.insertRow(-1)).insertCell(-1),null,function(v){v&&(x.push([v,ln]),Vn(y,x))},function(v){var C=Re.checked?rn:an;return z[v][Ft]!=C&&!z[v].mar});y.appendChild(t)}function $n(y,x){x=x||[],y.value=x,y.innerHTML="";var i,l,t=document.createElement("table").createTBody();for(l=x.length,i=0;i<l;i++){An(t.insertRow(-1).insertCell(-1),x[i],function(){var C=i;return function(v){v?x[i]=v:x.splice(C,1),$n(y,x)}}())}An(t.insertRow(-1).insertCell(-1),null,function(v){v&&(x.push(v),$n(y,x))},function(v){return Re.checked?!z[v][Gt]:!z[v][Ht]}),y.appendChild(t)}function er(C,y){return C[0]&&y[0]?Math.max(Math.max(C[6]-y[7],y[6]-C[7]),0):0}function tr(C){if(!C)return[0];for(var t=1,d=0,l=0;1e4<=C;)d+=(l=C%10)*t,t*=10,C=Math.floor(C/10);if(l)return[C-d,0,0,C+d,12,32,1e4*(C-d),1e4*(C+d)+9600+99];if(99<d){var y=Math.floor(d/100),x=d%100;return[C,y,x,C,y,x,1e4*C+800*y+3*x,1e4*C+800*y+3*x]}return[C,d,0,C,d,33,1e4*C+800*d,1e4*C+800*d+99]}var nr=/[^a-zA-ZäöåÄÖÅ ]+/g,rr=/ [ ]+/g;function ar(C){for(var a=C.replace(nr,"").replace(rr," ").toLowerCase().split(" ");a.length&&!a[a.length-1];)a.pop();return a}function ir(C,y){if(___cnsets[y].clear(),C){var i,d=ar(C),l=d.length;for(i=0;i<l;++i)___cnsets[y].add(d[i])}}function lr(C,y){if(!___cnsets[y].size||!C)return 0;var i,l=C.length;for(i=0;i<l;++i)if(___cnsets[y].has(C[i]))return 0;return 1}___cnsets=[new Set,new Set];var or=[];function dr(){if(5<or.length)ye.innerHTML="",ye.textContent=or.length+" similar users exist";else{var c,C;ye.innerHTML="",ye.appendChild(document.createTextNode(or.length+" similar user"+(1==or.length?"":"s")+" exist:")),ye.appendChild(document.createElement("br"));for(var i=0,l=or.length;i<l;++i)c=or[i],C=z[c][St]+" "+z[c][Yt],z[c][Pt]&&(C+=" (os. "+z[c][Pt]+")"),z[c][Xt]&&(C+=", s. "+z[c][Xt]),z[c][Dt]&&(C+=", k. "+z[c][Dt]),_n(ye,C),ye.appendChild(document.createElement("br"))}}var fr,vr,hr,mr,gr,kr,br,ur=0,cr=[],sr=[],pr=[],Cr=[],yr=[],xr=[];function wr(){if(O){fr=Re.checked?rn:an;var C=tr(vr=we.value),y=tr(hr=Ee.value);mr=ge.value+" "+xe.value,gr=ke.value+" "+be.value;var c,i,l=xr.length;for(ir(mr,0),ir(gr,1),i=0;i<l;++i)c=xr[i],fr!=z[c][Ft]?(++kr,cr.push(c)):60<er(C,z[c].BD)?(kr+=2,sr.push(c)):60<er(y,z[c].DD)?(kr+=3,pr.push(c)):lr(z[c].FN,0)?(kr+=4,Cr.push(c)):lr(z[c].SN,1)?(kr+=5,yr.push(c)):(kr+=5,or.push(c));dr()}}function Er(){O&&fr!=(Re.checked?rn:an)&&(ur=performance.now(),br=kr=0,fr=Re.checked?rn:an,xr=cr,cr=or,or=[],wr())}function Tr(){if(O&&vr!=we.value){ur=performance.now(),br=kr=0;var i,l,C=tr(vr=we.value);for(xr=[],i=0,l=sr.length;i<l;++i)++kr,er(C,z[sr[i]].BD)<=60&&(++br,xr.push(sr[i]),sr[i]=sr[--l],sr.pop(),--i);for(i=0,l=or.length;i<l;++i)++kr,60<er(C,z[or[i]].BD)&&(++br,sr.push(or[i]),or[i]=or[--l],or.pop(),--i);wr()}}function Nr(){if(O&&hr!=Ee.value){ur=performance.now(),br=kr=0;var i,l,C=tr(hr=Ee.value);for(xr=[],i=0,l=pr.length;i<l;++i)++kr,er(C,z[pr[i]].DD)<=60&&(++br,xr.push(pr[i]),pr[i]=pr[--l],pr.pop(),--i);for(i=0,l=or.length;i<l;++i)++kr,60<er(C,z[or[i]].DD)&&(++br,pr.push(or[i]),or[i]=or[--l],or.pop(),--i);wr()}}function Lr(){if(O&&mr!=ge.value+" "+xe.value){var i,l;for(ur=performance.now(),br=kr=0,mr=ge.value+" "+xe.value,xr=[],ir(mr,0),i=0,l=Cr.length;i<l;++i)++kr,lr(z[Cr[i]].FN,0)||(++br,xr.push(Cr[i]),Cr[i]=Cr[--l],Cr.pop(),--i);for(i=0,l=or.length;i<l;++i)++kr,lr(z[or[i]].FN,0)&&(++br,Cr.push(or[i]),or[i]=or[--l],or.pop(),--i);wr()}}function Mr(){if(O&&gr!=ke.value+" "+be.value){var i,l;for(ur=performance.now(),br=kr=0,gr=ke.value+" "+be.value,xr=[],ir(gr,1),i=0,l=yr.length;i<l;++i)++kr,lr(z[yr[i]].SN,1)||(++br,xr.push(yr[i]),yr[i]=yr[--l],yr.pop(),--i);for(i=0,l=or.length;i<l;++i)++kr,lr(z[or[i]].SN,1)&&(++br,yr.push(or[i]),or[i]=or[--l],or.pop(),--i);wr()}}function Rr(){O&&(ur=performance.now(),br=kr=0,or=[],cr=[],sr=[],pr=[],Cr=[],yr=[],xr=Object.keys(z),wr())}function _r(C,y,x,E){Z.innerHTML="",Z.style.left="50%",Z.value=C?C[$t]:void 0,ye=document.createElement("div");var T=document.createElement("div"),t=document.createElement("table").createTBody(),r=t.insertRow(-1);r.insertCell(-1).appendChild(document.createTextNode(ft)),ge=document.createElement("input"),C&&(ge.value=C[St]?C[St]:""),r.insertCell(-1).appendChild(ge),ge.onchange=function(){var i,C=ar(ge.value),l=C.length;for(i=gd=0;i<l;++i)R.has(C[i])&&!B.has(C[i])?gd|=1:B.has(C[i])&&!R.has(C[i])&&(gd|=2);1==gd?Re.click():2==gd&&_e.click(),Lr()},(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(st)),xe=document.createElement("input"),C&&(xe.value=C[It]?C[It]:""),xe.tabIndex=-1,xe.onchange=Lr,r.insertCell(-1).appendChild(xe),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(vt)),ke=document.createElement("input"),C&&(ke.value=C[Yt]?C[Yt]:""),ke.onchange=Mr,r.insertCell(-1).appendChild(ke);var N=pt;C&&C[Ft]!=rn||(N=ht),r=t.insertRow(-1);var L=document.createTextNode(N);r.insertCell(-1).appendChild(L),be=document.createElement("input"),C&&(be.value=C[Pt]?C[Pt]:""),be.onchange=Mr,r.insertCell(-1).appendChild(be),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Ct)),we=document.createElement("input"),C&&(we.value=C[zt]?C[zt]:""),we.onchange=Tr,r.insertCell(-1).appendChild(we),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(mt)),Ee=document.createElement("input"),C&&(Ee.value=C[Bt]?C[Bt]:""),Ee.onchange=Nr,r.insertCell(-1).appendChild(Ee),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(yt)),Te=document.createElement("input"),C&&(Te.value=C[en]?C[en]:""),r.insertCell(-1).appendChild(Te),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(gt)),Ne=document.createElement("input"),C&&(Ne.value=C[tn]?C[tn]:""),r.insertCell(-1).appendChild(Ne),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(xt)),(Re=document.createElement("input")).type="radio",Re.name="gender",(_e=document.createElement("input")).type="radio",_e.name="gender",Re.onchange=function(){L.textContent=ht,Er()},_e.onchange=function(){L.textContent=pt,Er()},null==C||void 0===C[Ft]||C[Ft]==rn?Re.checked=!0:_e.checked=!0,(b=r.insertCell(-1)).appendChild(Re),b.appendChild(document.createTextNode(kt)),b.appendChild(_e),b.appendChild(document.createTextNode(bt)),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(wt)),Le=document.createElement("textarea"),C&&(Le.value=C[Wt]?C[Wt]:""),r.insertCell(-1).appendChild(Le),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Et)),Me=document.createElement("input"),C&&(Me.value=C[Kt]?C[Kt]:"");var c=r.insertCell(-1);c.appendChild(Me),(ze=document.createElement("button")).textContent=Tt,ze.onclick=Qn,c.appendChild(ze),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Nt)),An(Se=r.insertCell(-1),C?C[Gt]:null,function(k){Se.value=k},function(k){return z[k][Ft]==rn}),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Lt)),An(Ye=r.insertCell(-1),C?C[Ht]:null,function(k){Ye.value=k},function(k){return z[k][Ft]==an}),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Mt)),Ie=r.insertCell(-1);var i,l,M=null;if(C&&C[At])for(l=(M=C[At].slice()).length,i=0;i<l;i++)M[i]=M[i].slice();Vn(Ie,M),(r=t.insertRow(-1)).insertCell(-1).appendChild(document.createTextNode(Rt)),$n(Xe=r.insertCell(-1),C&&C[Zt]?C[Zt].slice():null,null==C||void 0===C[Ft]||C[Ft]==rn?rn:an),T.appendChild(t);var b=document.createElement("button");b.textContent=_t,b.onclick=E,T.appendChild(b),ge.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),xe.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),ke.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),be.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),we.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),Ee.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),Te.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),Ne.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),Le.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),Me.addEventListener("keydown",function(e){13==e.keyCode&&e.ctrlKey&&E()}),(b=document.createElement("div")).style.position="absolute",b.style.zIndex=1e3,b.style.width=50,b.style.height=50,b.style.top=0,b.style.right=0,b.style.cursor="pointer",b.style.backgroundColor="#f00",b.onclick=y,T.appendChild(b),x&&((b=document.createElement("div")).style.position="absolute",b.style.zIndex=1e3,b.style.width=50,b.style.height=50,b.style.top=50,b.style.right=0,b.style.cursor="pointer",b.style.backgroundColor="#0f0",b.onclick=x,T.appendChild(b)),Rr(),Z.style.display="block",Z.appendChild(T),Z.appendChild(ye),ge.focus()}function Sr(){"block"==Z.style.display&&(Xr(Z.value),"block"==K.style.display&&Jn(K.value,0))}function Yr(){var i,C="",l=Xe.value.length;for(i=0;i<l;i++)C.length&&(C+=","),C+=Xe.value[i];return C}function Ir(){var i,C="",l=Ie.value.length;for(i=0;i<l;i++)C.length&&(C+=","),C+=Ie.value[i][0]+"."+Ie.value[i][1];return C}function Xr(c){_r(z[c],function(){Z.innerHTML="",Z.style.display="none",K.style.display="none"},function(){Z.innerHTML="",Z.style.display="none",K.style.display="none",e(c)},function(){var C=[[Ae,c],[Ze,ke.value],[Ke,ge.value],[Oe,xe.value],[qe,be.value],[Ue,Re.checked?"1":"0"],[Je,we.value?we.value:"0"],[Qe,Ee.value?Ee.value:"0"],[ot,Te.value],[dt,Ne.value],[ut,""],[je,Le.value],[it,Me.value]];z[c][Gt]===Se.value&&z[c][Ht]===Ye.value||(C.push([et,Se.value?Se.value:0]),C.push([tt,Ye.value?Ye.value:0]));var y=!1;if(z[c][Zt].length!=Xe.value.length)y=!0;else{var l=z[c][Zt].length;for(i=0;i<l;i++)if(z[c][Zt][i]!=Xe.value[i]){y=!0;break}}y&&C.push([rt,Yr()]);var x=!1;if(z[c][At].length!=Ie.value.length)x=!0;else{var i;l=z[c][At].length;for(i=0;i<l;i++)if(z[c][At][i][0]!=Ie.value[i][0]||z[c][At][i][1]!=Ie.value[i][1]){x=!0;break}}x&&C.push([at,Ir()]),sn(Pe,vn(C),function(C){Z.innerHTML="",Z.style.display="none",K.style.display="none",Gr()})})}function zr(C){_r(C=C||null,function(){Z.innerHTML="",Z.style.display="none",K.style.display="none"},null,function(){var C=[[Ze,ke.value],[Ke,ge.value],[Oe,xe.value],[qe,be.value],[Ue,Re.checked?"1":"0"],[Je,we.value?we.value:"0"],[Qe,Ee.value?Ee.value:"0"],[ot,Te.value],[dt,Ne.value],[ut,""],[je,Le.value],[it,Me.value],[et,Se.value?Se.value:0],[tt,Ye.value?Ye.value:0],[rt,Yr()],[at,Ir()]];sn(We,vn(C),function(C){Z.innerHTML="",Z.style.display="none",K.style.display="none",Gr()})})}function Dr(c){var C=gn(c);if(C[Kt]){if(C[Ht]&&C[Gt])return 0;var y=gn("G"+C[Kt]);if(y&&!y.LD)return y[Ht]&&"G"==y[Ht][0]||y[Gt]&&"G"==y[Gt][0];y||console.log("FAIL")}return 0}function a(C){M=C}function b(C){_=C}function c(C){S=C}function Br(C,y){if(C==L)if(y>=Y.length)Hr(C);else{for(var x=Math.min(Y.length,y+1e3);y<x;++y){var c=Y[y];z[c].FN=ar(z[c][St]+" "+z[c][It]),z[c].SN=ar(z[c][Yt]+" "+z[c][Pt]),z[c].NN=z[c].FN.concat(z[c].SN),z[c].BD=tr(z[c][zt]),z[c].DD=tr(z[c][Bt]);var E=ar(z[c][St]);if(z[c][Ft]==rn)for(var i=0,l=E.length;i<l;++i)R.add(E[i]);else for(i=0,l=E.length;i<l;++i)B.add(E[i])}y<Y.length?setTimeout(function(){Br(L,y)},10):Fr(C)}else Wr(C)}function Pr(){y=performance.now(),Br(L+=1,O=0)}function Wr(C){}function Fr(C){performance.now();O=1}function Hr(C){}function d(C){performance.now();z=C,Y=Object.keys(z),D={},R.clear(),B.clear(),Pr();performance.now();for(var y=0,x=Y.length;y<x;++y){var i,l,c=Y[y];for(z[c][$t]=c,l=z[c][At].length,i=0;i<l;i++)if(z[c][At][i][1]==ln){z[c].mar=z[c][At][i][0];break}if(""!==z[c][Kt]){var E=z[c][Kt];E in D||(D[E]=[]),D[E].push(c)}}}function h(C){Z=C}function q(C){K=C}function e(C){gn(C=(C=C||Wn("i"))||"596516649")?(P=C,Dn(),Pn("i",C)):alert("invalid root node")}function g(y){fn(De,function(C){y(C)})}function Gr(y){fn(De,function(C){d(C),e(P),y&&y()})}function i(C,x,E,y){var T=document.createElement("div");T.ix=-1;var N=document.createElement("input");return N.style.height="38px",N.style.width="100%",N.style.fontSize="30",N.style.zIndex="1001",N.addEventListener("keydown",function(e){40==e.keyCode?(0<=T.ix&&T.ix<T.childNodes.length&&(T.childNodes[T.ix].style.backgroundColor="#fff"),++T.ix>=T.childNodes.length&&(T.ix=0),0<=T.ix&&T.ix<T.childNodes.length&&(T.childNodes[T.ix].style.backgroundColor="#99c")):38==e.keyCode?(0<T.ix&&T.ix<T.childNodes.length&&(T.childNodes[T.ix].style.backgroundColor="#fff"),--T.ix<0&&(T.ix=T.childNodes.length-1),0<=T.ix&&T.ix<T.childNodes.length&&(T.childNodes[T.ix].style.backgroundColor="#99c")):13==e.keyCode?0<=T.ix&&T.ix<T.childNodes.length&&T.childNodes[T.ix].click():27==e.keyCode&&(N.value="",N.oninput(),y&&y())}),N.oninput=function(){var v=N.value;if(T.innerHTML="",0<v.length){var i,C,r=Gn(N.value,20,E),l=r.length;for(i=0;i<l;i++){(C=document.createElement("div")).className="r";var y=z[r[i]][St]+" "+z[r[i]][Yt];z[r[i]][Pt]&&(y+=" (os. "+z[r[i]][Pt]+")"),z[r[i]][Xt]&&(y+=", s. "+z[r[i]][Xt]),_n(C,y),C.onclick=function(){T.ix=-1;var k=r[i];return function(){T.innerHTML="",x(k)}}(),T.appendChild(C)}}},C.appendChild(N),C.appendChild(T),N}function j(C){e(C)}function k(){Ce(ae+1,1)}function l(){Ce(ae-1,1)}function m(n){Ce(n,1)}function n(){he&&zr()}function o(){var u=document.getElementById("j"),d=document.getElementById("k");me(u.value,d.value,1)}function f(){var c=Wn("c"),u=Wn("u"),d=Wn("d");void 0===c&&(c=0),void 0===u&&(u=document.getElementById("j").value),void 0===d&&(d=document.getElementById("k").value),document.getElementById("j").value=u,document.getElementById("k").value=d,Ce(parseInt(c),0),me(u,d,0)}function p(C){X=C}var Kr,Ar=new Set,Zr=new Set,Or=0,jr=[];function s(){Kr=1,document.getElementById("pausegeni").disabled=!0,document.getElementById("continuegeni").disabled=!1}function t(){if(document.getElementById("pausegeni").disabled=!1,document.getElementById("continuegeni").disabled=!0,Kr=0,Or){var C=Or;Or=0,C()}}function Ur(C){Kr?Or=C:C()}function qr(y,x){sn("",vn([[it,y],[lt,2]]),x,12e4,X,function(C){alert(C),s(),Or=function(){qr(y,x)}})}function Jr(C,y){Ar.has(C)?Ur(y):(Ar.add(C),console.log("geniFetchUp",C," downfetch size: ",Zr.size," upfetch size: ",Ar.size),Ur(C?function(){qr(C,function(C){console.log("User",C[St],C[Yt],C[zt],C[Bt]),Ur(function(){Jr(C[qt]?C[qt][Kt]:0,function(){Ur(function(){Jr(C[Ut]?C[Ut][Kt]:0,function(){Ur(y)})})})})})}:y))}function Qr(C,i,y){if(!C||!C[jt]||i>=C[jt].length)Ur(y);else{for(var j in jr.push(i+1+"/"+C[jt].length),console.log("User",C[St],C[Yt],C[zt],C[Bt],"child",i+1,"of",C[jt].length),jr)console.log(jr[j]);Ur(function(){Vr(C[jt][i][Kt],function(){Ur(function(){jr.pop(),Qr(C,i+1,y)})})})}}function Vr(C,y){Zr.has(C)?Ur(y):(Zr.add(C),console.log("geniFetchDown",C," downfetch size: ",Zr.size," upfetch size: ",Ar.size),Ur(C?function(){qr(C,function(C){jr.push(C[St]+" "+C[Yt]+" "+C[zt]+" "+C[Bt]),Qr(C,0,function(){jr.pop(),Ur(y)})})}:y))}function r(C,i){if(document.getElementById("pausegeni").disabled=!1,null==i&&(i=0),i<Object.keys(D).length){var y=Object.keys(D)[i][0];C.textContent=i+1+"/"+Object.keys(D).length+" ("+y+")",Jr(y,function(){Vr(y,function(){r(C,i+1)})})}}function u(){I=document.getElementById("usegeni").checked,console.log(I)}function v(){var i=0,l=Y.length,f=0;for(i=0;i<l;++i)if(f||Y[i]!=P){if(f&&Dr(Y[i]))return console.log("HERO"),void e(Y[i])}else f=1;for(i=0;i<l;++i)if(Dr(Y[i]))return console.log("HERO"),void e(Y[i])}function w(C){1==C&&(he=0)}
